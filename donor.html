<!DOCTYPE html>
<html>
<head>
    <title>Food Donation Form with Map</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
        h1 { color: #4CAF50; }
        form { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); width: 300px; }
        label, input, select { display: block; margin-bottom: 10px; width: 100%; padding: 8px; box-sizing: border-box; }
        button { background: #4CAF50; color: #fff; border: none; padding: 10px; cursor: pointer; width: 100%; }
        button:hover { background: #45a049; }
        #map { height: 400px; width: 100%; margin-bottom: 20px; border-radius: 10px; }
        #confirmation { display: none; margin-top: 20px; color: #4CAF50; font-weight: bold; }
        #contactInfo { display: none; margin-top: 10px; color: #333; font-style: italic; }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none">
      <img src="OIP (1).jpg" class="bi me-2" width="240px" height="100px"/>
      <span class="fs-4" id="helping-bridge">Food Donate</span>
    </a>

    <ul class="nav nav-pills">
      
      <li class="nav-item"><a href="index.html" class="nav-link" aria-current="page"><button style="color:blue;" >Home</button></a></li>
      <li class="nav-item"><a href="about.html" class="nav-link"><button style="color:blue;">About</button></a></li>
      <li class="nav-item"><a href="login.html" class="nav-link"><button style="color:blue;">Login</button></a></li>
      <li class="nav-item"><a href="signup.html" class="nav-link"><button style="color:blue;">Signup</button></a></li>
      <li class="nav-item"><a href="receiver.html" class="nav-link"><button style="color:blue;">Orphanage Form</button></a></li>
      <li class="nav-item"><a href="donor.html" class="nav-link"><button style="color:blue;">Donor form</button></a></li>
      <li class="nav-item"><a href="notifications.html" class="nav-link"><button >ðŸ””</button></a></li>
      <li class="nav-item"><a href="feedback.html" class="nav-link"><button style="color:blue;">Feedback</button></a></li>
          </ul>
  </header>
    
 
        
<body>
    <h1>Food Donation Form</h1>
    <div id="map"></div>
    <form id="donorForm">
        <label for="donorName">Donor Name:</label>
        <input type="text" id="donorName" required>

        <label for="foodDetails">Food Details:</label>
        <input type="text" id="foodDetails" required>

        <label for="contactNumber">Contact Number:</label>
        <input type="tel" id="contactNumber" required>

        <label for="orphanage">Select Orphanage:</label>
        <select id="orphanage" required>
            <option>Loading orphanages...</option>
        </select>

        <button type="submit">Donate</button>
    </form>

    <div id="confirmation">âœ… Orphanage Selected! Please review and submit the form.</div>
    <div id="contactInfo"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        let map;
        const orphanages = [
            { name: "Hope Children's Home", location: "13.6288,79.4192", place: "Tirupati Central", phone: "+91 98765 43210", email: "hope@orph.com" },
            { name: "Bright Future Orphanage", location: "13.6205,79.4414", place: "Tiruchanoor", phone: "+91 98765 43211", email: "brightfuture@orph.com" },
            { name: "Safe Haven Kids Home", location: "13.6536,79.5129", place: "Renigunta", phone: "+91 98765 43212", email: "safehaven@orph.com" },
            { name: "Little Stars Orphanage", location: "13.5777,79.2939", place: "Chandragiri", phone: "+91 98765 43213", email: "littlestars@orph.com" },
            { name: "New Beginnings Home", location: "13.6517,79.4216", place: "Alipiri", phone: "+91 98765 43214", email: "newbeginnings@orph.com" },
            { name: "Sunshine Children's Shelter", location: "13.6308,79.4377", place: "SV Zoo", phone: "+91 98765 43215", email: "sunshine@orph.com" },
            { name: "Faithful Hearts Orphanage", location: "13.6315,79.4159", place: "Kapilatheertham", phone: "+91 98765 43216", email: "faithfulhearts@orph.com" },
            { name: "Bright Horizons Home", location: "13.6464,79.4248", place: "Peruru", phone: "+91 98765 43217", email: "brighthorizons@orph.com" },
            { name: "Caring Hands Shelter", location: "13.6354,79.4279", place: "RC Road", phone: "+91 98765 43218", email: "caringhands@orph.com" }
        ];

        function getDistance(lat1, lon1, lat2, lon2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * (Math.PI / 180);
            const dLon = (lon2 - lon1) * (Math.PI / 180);
            const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * (Math.PI / 180)) * Math.cos(lat2 * (Math.PI / 180)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);
            return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
        }

        navigator.geolocation.getCurrentPosition(position => {
            const donorLocation = { lat: position.coords.latitude, lng: position.coords.longitude };
            map = L.map('map').setView([donorLocation.lat, donorLocation.lng], 12);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

            orphanages.forEach(o => {
                const [lat, lon] = o.location.split(",").map(Number);
                const distance = getDistance(donorLocation.lat, donorLocation.lng, lat, lon).toFixed(1);
                document.getElementById("orphanage").innerHTML += `<option value="${o.name}" data-phone="${o.phone}" data-email="${o.email}">${o.name} (${o.place}) - ${distance} km away</option>`;
            });
        });

        document.getElementById("donorForm").addEventListener("submit", e => {
            e.preventDefault();
            const selected = document.getElementById("orphanage").selectedOptions[0];
            document.getElementById("contactInfo").innerHTML = `Call: <a href="tel:${selected.dataset.phone}">${selected.dataset.phone}</a> | Email: <a href="mailto:${selected.dataset.email}">${selected.dataset.email}</a>`;
            document.getElementById("contactInfo").style.display = "block";
        });
    </script>
</body>
</html>


